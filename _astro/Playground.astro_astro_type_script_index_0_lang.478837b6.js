const c=document.querySelector("iframe");let a,d={};c.addEventListener("load",()=>{a=r()});document.getElementById("url").addEventListener("input",e=>{a?.destroy(),d={},c.setAttribute("src",e.target.value)});function r(){return a=new window.playerSdk.PlayerSdk(c),document.querySelectorAll('[data-type="event"]').forEach(e=>{const t=e.getAttribute("data-event");d[t]=n=>{console.log(t,n)},e.checked&&a.addEventListener(t,d[t])}),a}document.querySelectorAll('[data-type="get"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-command");a[t]().then(n=>console.log(t,n))})});document.querySelectorAll('[data-type="set"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-command"),n=e.getAttribute("data-value");a[t](n)})});document.querySelectorAll('[data-type="command"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-command");a[t]()})});document.querySelectorAll('[data-type="event"]').forEach(e=>{const t=e.getAttribute("data-event");e.addEventListener("change",n=>{n.currentTarget.checked?a.addEventListener(t,d[t]):a.removeEventListener(t,d[t])})});
