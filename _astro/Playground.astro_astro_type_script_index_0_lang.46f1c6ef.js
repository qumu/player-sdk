const c=document.querySelector("iframe");let n,d={};c.addEventListener("load",()=>{n=o()});document.getElementById("url").addEventListener("input",e=>{n?.destroy(),d={},c.setAttribute("src",e.target.value)});function o(){const e=new window.playerSdk.PlayerSdk(c);return document.querySelectorAll('[data-type="event"]').forEach(t=>{const a=t.getAttribute("data-event");d[a]=r=>{console.log(a,r)},t.checked&&e.addEventListener(a,d[a])}),e}document.querySelectorAll('[data-type="get"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-command");n[t]().then(a=>console.log(t,a))})});document.querySelectorAll('[data-type="set"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-command"),a=e.getAttribute("data-value");n[t](a)})});document.querySelectorAll('[data-type="command"]').forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-command");n[t]()})});document.querySelectorAll('[data-type="event"]').forEach(e=>{const t=e.getAttribute("data-event");e.addEventListener("change",a=>{a.currentTarget.checked?n.addEventListener(t,d[t]):n.removeEventListener(t,d[t])})});
