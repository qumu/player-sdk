<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Legacy SDK</title>
  <link rel="stylesheet" href="/player-sdk/_astro/_...slug_.f0c41d6c.css" /><script type="module">
</script></head>
  <body>
    <header>
  <nav class="qi-navbar qi-navbar--collapse@md">
    <div class="qi-navbar__header">
      <a href="/player-sdk/" class="qi-navbar__brand" aria-label="Go to the homepage">
        <svg height="30" width="150" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 180 48"><path d="M108.603 29.83c0 3.987-2.156 5.679-5.038 5.679-2.658 0-4.536-1.599-4.536-4.722v-13.33h-5.912v14.064c0 6.098 3.802 9.481 8.654 9.481 3.077 0 5.456-1.143 6.832-3.207v2.566h5.912V17.458h-5.912v12.371zm35.508-13.014a7.859 7.859 0 00-6.786 3.3 6.86 6.86 0 00-6.227-3.3 7.217 7.217 0 00-6.368 3.068v-2.427h-5.995v22.904h5.912V27.496c0-3.439 1.784-5.177 4.303-5.177s3.849 1.645 3.849 4.35v13.692h5.911V27.496c0-3.439 1.655-5.177 4.258-5.177 2.602 0 3.848 1.645 3.848 4.35v13.692h5.912V26.25c.037-5.726-3.393-9.435-8.617-9.435zm27.672.642v12.371c0 3.988-2.157 5.68-5.038 5.68-2.659 0-4.536-1.599-4.536-4.722v-13.33h-5.912v14.064c0 6.098 3.802 9.481 8.663 9.481 3.067 0 5.447-1.143 6.823-3.207v2.566h5.911V17.458h-5.911zm-81.863 7.37c0-8.811-7.148-15.96-15.96-15.96-8.812 0-15.96 7.149-15.96 15.96 0 8.812 7.148 15.96 15.96 15.96 3.012 0 5.967-.855 8.524-2.463l4.015 4.016 4.192-4.192-3.867-3.877a15.828 15.828 0 003.096-9.443zm-7.39 5.215l-5.977-5.977-4.192 4.118 5.745 5.745c-1.311.604-2.742.92-4.183.93-5.53-.029-10.002-4.528-9.974-10.068.028-5.53 4.527-10.001 10.067-9.973 5.53.027 10.001 4.526 9.973 10.066a9.992 9.992 0 01-1.459 5.16z" fill="#4B5369"></path><path d="M39.443 37.454C46.883 27.85 45.116 14.039 35.5 6.6 25.885-.838 12.055.934 4.607 10.537-2.842 20.14-1.067 33.952 8.549 41.39a22.024 22.024 0 009.93 4.312c1.178.196 2.373.298 3.567.298H48l-8.557-8.546zm-6.067-13.335l-16.551 9.552a.262.262 0 01-.35-.103.235.235 0 01-.026-.11V14.363c0-.145.12-.256.264-.247.043 0 .077.008.111.025l16.552 9.543a.26.26 0 01.086.35.27.27 0 01-.086.085z" fill="#66C8C7"></path></svg>
      </a>
    </div>
  </nav>
</header>
    <div class="app-container">
      <aside>
        <nav>
  <section class="qi-mb--5">
        <h5 class="qi-h5 qi--display">General</h5>
        <ul class="qi-list--unstyled qi-mb--0">
          <li>
                <a href="/player-sdk/installation" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Installation
                </a>
              </li><li>
                <a href="/player-sdk/usage" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Usage
                </a>
              </li>
        </ul>
      </section><section class="qi-mb--5">
        <h5 class="qi-h5 qi--display">Demos</h5>
        <ul class="qi-list--unstyled qi-mb--0">
          <li>
                <a href="/player-sdk/demos/playback" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Playback
                </a>
              </li><li>
                <a href="/player-sdk/demos/captions" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Captions
                </a>
              </li><li>
                <a href="/player-sdk/demos/chapters" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Chapters
                </a>
              </li><li>
                <a href="/player-sdk/demos/layout" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Layout
                </a>
              </li><li>
                <a href="/player-sdk/demos/live" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Live states
                </a>
              </li><li>
                <a href="/player-sdk/demos/playback-rates" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Playback Rates
                </a>
              </li><li>
                <a href="/player-sdk/demos/volume" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Volume
                </a>
              </li>
        </ul>
      </section><section class="qi-mb--5">
        <h5 class="qi-h5 qi--display">v2.0 (Legacy)</h5>
        <ul class="qi-list--unstyled qi-mb--0">
          <li>
                <a href="/player-sdk/legacy/usage" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--primary active" aria-current="page">
                  Usage
                </a>
              </li><li>
                <a href="/player-sdk/legacy/migration" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Migration guide
                </a>
              </li>
        </ul>
      </section>
</nav>
      </aside>
      <main>
        <section>
          <h1>Legacy SDK</h1><div class="qi-alert qi-alert--warning qi-alert--rounded qi-mb--4"><h3 class="qi-m--0">Heads up!</h3><p>This SDK is considered legacy. No new features will be added and we will retire the SDK on April 1<sup>st</sup>, 2024.</p><a href="/player-sdk/migration#migration-from-v20-to-v30">Learn how to migrate to the new SDK →</a></div>
<p>The Qumu Player API allows you to programmatically interact with the player embedded in an iframe.</p>
<p>You can send commands to the player, get and set properties, and bind to events from the player.</p>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#800000">&lt;iframe</span><span style="color:#000000"> </span><span style="color:#FF0000">name</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;player-iframe-name&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">width</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;900&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">height</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;467&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">frameborder</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;0&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">src</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;http://</span><span style="color:#CD3131">&lt;</span><span style="color:#0000FF">QumuCloud_Domain&gt;/view/guid-or-alias&quot;</span><span style="color:#800000">&gt;&lt;/iframe&gt;</span></span>
<span class="line"><span style="color:#800000">&lt;script</span><span style="color:#000000FF"> </span><span style="color:#FF0000">src</span><span style="color:#000000FF">=</span><span style="color:#0000FF">&quot;http://&lt;QumuCloud_Domain&gt;/client/application/api-v2.js&quot;</span><span style="color:#800000">&gt;&lt;/script&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#800000">&lt;script&gt;</span></span>
<span class="line"><span style="color:#0000FF">var</span><span style="color:#000000FF"> </span><span style="color:#001080">api</span><span style="color:#000000FF"> </span><span style="color:#000000">=</span><span style="color:#000000FF"> </span><span style="color:#0000FF">new</span><span style="color:#000000FF"> </span><span style="color:#0070C1">KV</span><span style="color:#000000FF">.</span><span style="color:#795E26">Api</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;player-iframe-name&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">init</span><span style="color:#000000FF">(</span><span style="color:#0000FF">function</span><span style="color:#000000FF">(</span><span style="color:#001080">err</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#AF00DB">if</span><span style="color:#000000FF"> (</span><span style="color:#001080">err</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;Error initializing Player API. Code: &#39;</span><span style="color:#000000FF"> </span><span style="color:#000000">+</span><span style="color:#000000FF"> </span><span style="color:#001080">err</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#AF00DB">return</span><span style="color:#000000FF">;</span></span>
<span class="line"><span style="color:#000000FF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// You can bind to events</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">bind</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;ended&#39;</span><span style="color:#000000FF">, </span><span style="color:#0000FF">function</span><span style="color:#000000FF">() {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;Event: ended&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Get properties</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">get</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;currentTime&#39;</span><span style="color:#000000FF">, </span><span style="color:#0000FF">function</span><span style="color:#000000FF">(</span><span style="color:#001080">currentTime</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#001080">currentTime</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Set properties</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">set</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;currentTime&#39;</span><span style="color:#000000FF">, </span><span style="color:#098658">1000</span><span style="color:#000000FF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// And issue commands</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">command</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;play&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">});</span></span>
<span class="line"><span style="color:#800000">&lt;/script&gt;</span></span></code></pre>
<h2 id="basics">Basics<a class="anchor-link" href="#basics">#</a></h2>
<p>The Player API is a separate JavaScript file that sets up a cross domain communication channel with a Qumu player embedded in an iframe.</p>
<h3 id="include-the-player-api-script">Include the Player API script<a class="anchor-link" href="#include-the-player-api-script">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#008000">&lt;!-- Include the Player API script. This can be included before or after the Player iframe. --&gt;</span></span>
<span class="line"><span style="color:#800000">&lt;script</span><span style="color:#000000FF"> </span><span style="color:#FF0000">src</span><span style="color:#000000FF">=</span><span style="color:#0000FF">&quot;http://&lt;QumuCloud_Domain&gt;/client/application/api-v2.js&quot;</span><span style="color:#800000">&gt;&lt;/script&gt;</span></span></code></pre>
<h3 id="include-the-player-iframe">Include the Player iframe<a class="anchor-link" href="#include-the-player-iframe">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#008000">&lt;!--</span></span>
<span class="line"><span style="color:#008000">Include the Player iframe.</span></span>
<span class="line"><span style="color:#008000">You must set the name attribute so that the API knows which iframe to talk to.</span></span>
<span class="line"><span style="color:#008000">--&gt;</span></span>
<span class="line"><span style="color:#800000">&lt;iframe</span><span style="color:#000000"> </span><span style="color:#FF0000">name</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;player-iframe-name&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">width</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;900&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">height</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;467&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">frameborder</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;0&quot;</span><span style="color:#000000"> </span><span style="color:#FF0000">src</span><span style="color:#000000">=</span><span style="color:#0000FF">&quot;http://</span><span style="color:#CD3131">&lt;</span><span style="color:#0000FF">QumuCloud_Domain&gt;/view/guid-or-alias&quot;</span><span style="color:#800000">&gt;&lt;/iframe&gt;</span></span></code></pre>
<h3 id="create-the-api-object">Create the API object<a class="anchor-link" href="#create-the-api-object">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#800000">&lt;script&gt;</span></span>
<span class="line"><span style="color:#000000">// Now we create the Api object.</span></span>
<span class="line"><span style="color:#000000">// Each Api object connects to a single Player iframe. You must pass the name of the iframe as the first parameter.</span></span>
<span class="line"><span style="color:#000000">// The second parameter is a collection of options.</span></span>
<span class="line"><span style="color:#000000">// Currently the only option you can set is the timeout in milliseconds.</span></span>
<span class="line"><span style="color:#000000">var api = new KV.Api(&#39;player-iframe-name&#39;, </span><span style="color:#0000FF">{</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// The maximum amount of time to wait for the initialization.</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// The default is 20000 (20 seconds).</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">timeout</span><span style="color:#000000FF">: </span><span style="color:#098658">15000</span></span>
<span class="line"><span style="color:#0000FF">}</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#800000">&lt;/script&gt;</span></span></code></pre>
<h3 id="initialize-the-api">Initialize the API<a class="anchor-link" href="#initialize-the-api">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#800000">&lt;script&gt;</span></span>
<span class="line"><span style="color:#000000">// The API must be initialized before it can be used.</span></span>
<span class="line"><span style="color:#000000">// The &#39;init&#39; mehtod takes a callback which will be called when the initialization is complete.</span></span>
<span class="line"><span style="color:#000000">// If the initialization fails the &#39;err&#39; parameter will be set.</span></span>
<span class="line"><span style="color:#000000">api.init(function(err) </span><span style="color:#0000FF">{</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#795E26">if</span><span style="color:#000000FF"> (</span><span style="color:#001080">err</span><span style="color:#000000FF"> </span><span style="color:#000000">===</span><span style="color:#000000FF"> </span><span style="color:#A31515">&#39;NO_IFRAME&#39;</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;Unable to find iframe with name: &#39;</span><span style="color:#000000FF"> + api.iframe());</span></span>
<span class="line"><span style="color:#000000FF">    return;</span></span>
<span class="line"><span style="color:#000000FF">  } </span><span style="color:#001080">else</span><span style="color:#000000FF"> </span><span style="color:#795E26">if</span><span style="color:#000000FF"> (</span><span style="color:#001080">err</span><span style="color:#000000FF"> </span><span style="color:#000000">===</span><span style="color:#000000FF"> </span><span style="color:#A31515">&#39;TIMED_OUT&#39;</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;Timed out waiting for Player to connect&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">    return;</span></span>
<span class="line"><span style="color:#000000FF">  } </span><span style="color:#001080">else</span><span style="color:#000000FF"> </span><span style="color:#795E26">if</span><span style="color:#000000FF"> (</span><span style="color:#001080">err</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;Unknown error initializing Player API. Code: &#39;</span><span style="color:#000000FF"> + </span><span style="color:#001080">err</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">    return;</span></span>
<span class="line"><span style="color:#000000FF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// API was initialized successfully.</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Bind events and issue commands here.</span></span>
<span class="line"><span style="color:#0000FF">}</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#800000">&lt;/script&gt;</span></span></code></pre>
<p>The <code>err</code> parameter will be set if the initialization fails. There are currently only two possible values it can be set to:</p>
<ul>
<li><code>NO_IFRAME</code> - Used if the player iframe cannot be found. Check that you have created the Api with the correct iframe name, and that the iframe is in the page before you initialize the Api.</li>
<li><code>TIMED_OUT</code> - Used when the Api is unable to establish a connection to the Player within the timeout period. This covers all other errors that could occur.</li>
</ul>
<h3 id="bind-to-events-get-and-set-properties-and-send-commands">Bind to events, get and set properties, and send commands<a class="anchor-link" href="#bind-to-events-get-and-set-properties-and-send-commands">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#800000">&lt;script&gt;</span></span>
<span class="line"><span style="color:#000000">api.init(function(err) </span><span style="color:#0000FF">{</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Assuming error handling occurs here.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">var</span><span style="color:#000000FF"> </span><span style="color:#795E26">playHandler</span><span style="color:#000000FF"> </span><span style="color:#000000">=</span><span style="color:#000000FF"> </span><span style="color:#0000FF">function</span><span style="color:#000000FF">() {</span></span>
<span class="line"><span style="color:#000000FF">      </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;Event: play&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Use &#39;bind&#39; to register an event handler</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">bind</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;play&#39;</span><span style="color:#000000FF">, </span><span style="color:#001080">playHandler</span><span style="color:#000000FF">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Use &#39;command&#39; to issue a command to the player</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">command</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;play&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Use &#39;get&#39; to get a property from the player</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Values are always returned in a callback (due to iframe communication)</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">get</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;currentTime&#39;</span><span style="color:#000000FF">, </span><span style="color:#0000FF">function</span><span style="color:#000000FF">(</span><span style="color:#001080">currentTime</span><span style="color:#000000FF">) {</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#001080">currentTime</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Use &#39;set&#39; to set a property on the player</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">set</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;currentTime&#39;</span><span style="color:#000000FF">, </span><span style="color:#098658">1000</span><span style="color:#000000FF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Use &#39;unbind&#39; to remove a specific event handler</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">unbind</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;play&#39;</span><span style="color:#000000FF">, </span><span style="color:#001080">playHandler</span><span style="color:#000000FF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// or remove all handlers for an event.</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">unbind</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;play&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#0000FF">}</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#800000">&lt;/script&gt;</span></span></code></pre>
<h3 id="destroy-the-api-and-player">Destroy the API and Player<a class="anchor-link" href="#destroy-the-api-and-player">#</a></h3>
<p>You only need to issue the <code>destroy</code> command if you wish to remove the API and Player while the user is still on the page. It does NOT need to be called when the user navigates away from the page.</p>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#800000">&lt;script&gt;</span></span>
<span class="line"><span style="color:#000000">api.init(function(err) </span><span style="color:#0000FF">{</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Assuming error handling occurs here.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// Start destroying the API.</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#008000">// No more events will be sent, and no more commands can be issued.</span></span>
<span class="line"><span style="color:#000000FF">  </span><span style="color:#001080">api</span><span style="color:#000000FF">.</span><span style="color:#795E26">command</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;destroy&#39;</span><span style="color:#000000FF">, [], </span><span style="color:#0000FF">function</span><span style="color:#000000FF">() {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#008000">// Once the callback is executed the destroy is complete.</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#008000">// and you can remove the Player iframe from the page.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#008000">// If you remove the iframe before the callback as fired view</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#008000">// won&#39;t get sent correctly.</span></span>
<span class="line"><span style="color:#000000FF">    </span><span style="color:#795E26">alert</span><span style="color:#000000FF">(</span><span style="color:#A31515">&#39;API destroyed. Player iframe can now be removed.&#39;</span><span style="color:#000000FF">);</span></span>
<span class="line"><span style="color:#000000FF">  });</span></span>
<span class="line"><span style="color:#0000FF">}</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#800000">&lt;/script&gt;</span></span></code></pre>
<h2 id="methods">Methods<a class="anchor-link" href="#methods">#</a></h2>
<h3 id="constructor">Constructor<a class="anchor-link" href="#constructor">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#0000FF">new</span><span style="color:#000000"> </span><span style="color:#0070C1">KV</span><span style="color:#000000">.</span><span style="color:#795E26">Api</span><span style="color:#000000">(</span><span style="color:#001080">iframeName</span><span style="color:#000000">, [</span><span style="color:#001080">options</span><span style="color:#000000">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">iframeName</span><span style="color:#000000"> - </span><span style="color:#001080">The</span><span style="color:#000000"> </span><span style="color:#001080">name</span><span style="color:#000000"> </span><span style="color:#001080">attribute</span><span style="color:#000000"> </span><span style="color:#0000FF">of</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">Player</span><span style="color:#000000"> </span><span style="color:#001080">iframe</span><span style="color:#000000">, </span><span style="color:#001080">or</span><span style="color:#000000"> </span><span style="color:#0000FF">null</span><span style="color:#000000"> </span><span style="color:#AF00DB">if</span><span style="color:#000000"> </span><span style="color:#001080">using</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">Api</span><span style="color:#000000"> </span><span style="color:#001080">from</span><span style="color:#000000"> </span><span style="color:#001080">a</span><span style="color:#000000"> </span><span style="color:#0070C1">HTML</span><span style="color:#000000"> </span><span style="color:#001080">slide</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">options</span><span style="color:#000000"> - </span><span style="color:#0070C1">A</span><span style="color:#000000"> </span><span style="color:#001080">map</span><span style="color:#000000"> </span><span style="color:#0000FF">of</span><span style="color:#000000"> </span><span style="color:#001080">option</span><span style="color:#000000"> </span><span style="color:#001080">names</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">values</span><span style="color:#000000">. </span><span style="color:#001080">Optional</span><span style="color:#000000">. </span><span style="color:#001080">Available</span><span style="color:#000000"> options:</span></span>
<span class="line"><span style="color:#000000">  timeout: </span><span style="color:#001080">The</span><span style="color:#000000"> </span><span style="color:#001080">maximum</span><span style="color:#000000"> </span><span style="color:#001080">time</span><span style="color:#000000"> </span><span style="color:#0000FF">in</span><span style="color:#000000"> </span><span style="color:#001080">milliseconds</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">wait</span><span style="color:#000000"> </span><span style="color:#001080">before</span><span style="color:#000000"> </span><span style="color:#001080">failing</span><span style="color:#000000"> </span><span style="color:#001080">initialization</span><span style="color:#000000">. </span><span style="color:#001080">Default</span><span style="color:#000000"> </span><span style="color:#001080">is</span><span style="color:#000000"> </span><span style="color:#098658">20000.</span></span></code></pre>
<p>This creates a new Api object for a specific Player iframe. If you have multiple Players on the page you will need to create an Api object for each one.</p>
<h3 id="init">init<a class="anchor-link" href="#init">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#000000">.</span><span style="color:#795E26">init</span><span style="color:#000000">(</span><span style="color:#001080">callback</span><span style="color:#000000">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">callback</span><span style="color:#000000"> - </span><span style="color:#0070C1">A</span><span style="color:#000000"> </span><span style="color:#0000FF">function</span><span style="color:#000000"> </span><span style="color:#795E26">to</span><span style="color:#000000"> </span><span style="color:#795E26">execute</span><span style="color:#000000"> </span><span style="color:#795E26">when</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">initialization</span><span style="color:#000000"> </span><span style="color:#795E26">is</span><span style="color:#000000"> </span><span style="color:#795E26">complete</span><span style="color:#000000"> (</span><span style="color:#001080">success</span><span style="color:#000000"> </span><span style="color:#001080">or</span><span style="color:#000000"> </span><span style="color:#001080">failure</span><span style="color:#000000">).</span></span>
<span class="line"><span style="color:#000000">            </span><span style="color:#795E26">An</span><span style="color:#000000"> </span><span style="color:#795E26">error</span><span style="color:#000000"> </span><span style="color:#795E26">code</span><span style="color:#000000"> </span><span style="color:#795E26">will</span><span style="color:#000000"> </span><span style="color:#795E26">be</span><span style="color:#000000"> </span><span style="color:#795E26">returned</span><span style="color:#000000"> </span><span style="color:#795E26">as</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">first</span><span style="color:#000000"> </span><span style="color:#795E26">parameter</span><span style="color:#000000"> </span><span style="color:#795E26">if</span><span style="color:#000000"> </span><span style="color:#795E26">initialization</span><span style="color:#000000"> </span><span style="color:#795E26">fails</span><span style="color:#000000">.</span></span></code></pre>
<p>The Api must be initialized before it can be used.</p>
<h3 id="command">command<a class="anchor-link" href="#command">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#000000">.</span><span style="color:#795E26">command</span><span style="color:#000000">(</span><span style="color:#001080">commandName</span><span style="color:#000000"> [,</span><span style="color:#001080">parameters</span><span style="color:#000000">[,</span><span style="color:#001080">callback</span><span style="color:#000000">]])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">commandName</span><span style="color:#000000"> - </span><span style="color:#001080">The</span><span style="color:#000000"> </span><span style="color:#001080">name</span><span style="color:#000000"> </span><span style="color:#0000FF">of</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">command</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">send</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">Player</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">parameters</span><span style="color:#000000"> - </span><span style="color:#001080">An</span><span style="color:#000000"> </span><span style="color:#001080">array</span><span style="color:#000000"> </span><span style="color:#0000FF">of</span><span style="color:#000000"> </span><span style="color:#001080">parameters</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">command</span><span style="color:#000000">. </span><span style="color:#001080">At</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">moment</span><span style="color:#000000"> </span><span style="color:#001080">no</span><span style="color:#000000"> </span><span style="color:#001080">commands</span><span style="color:#000000"> </span><span style="color:#001080">take</span><span style="color:#000000"> </span><span style="color:#001080">parameters</span><span style="color:#000000">. </span><span style="color:#001080">Optional</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">callback</span><span style="color:#000000"> - </span><span style="color:#0070C1">A</span><span style="color:#000000"> </span><span style="color:#0000FF">function</span><span style="color:#000000"> </span><span style="color:#795E26">to</span><span style="color:#000000"> </span><span style="color:#795E26">execute</span><span style="color:#000000"> </span><span style="color:#795E26">when</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">command</span><span style="color:#000000"> </span><span style="color:#795E26">has</span><span style="color:#000000"> </span><span style="color:#795E26">finished</span><span style="color:#000000">. </span><span style="color:#795E26">Optional</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#000000">            </span><span style="color:#795E26">At</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">moment</span><span style="color:#000000"> </span><span style="color:#795E26">only</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">destroy</span><span style="color:#000000"> </span><span style="color:#795E26">command</span><span style="color:#000000"> </span><span style="color:#795E26">fires</span><span style="color:#000000"> </span><span style="color:#795E26">a</span><span style="color:#000000"> </span><span style="color:#795E26">callback</span><span style="color:#000000">.</span></span>
<span class="line"></span></code></pre>
<p>The available commands are:</p>
<ul>
<li><code>play</code> - Start or resume playing the presentation. Note: On the iPad or iPhone this won’t have any effect until the presentation has manually been played once, this is due to deliberate iOS restrictions.</li>
<li><code>pause</code> - Pause the presentation.</li>
<li><code>destroy</code> - Prepare the Player for removal. This only needs to be called if you want to remove the Player before leaving the page. It ensures that view stats are sent, and that the Api is cleaned up. No more commands can be sent once this has been called. This fires a callback when the destroy function is finished, don’t remove the Player iframe from the page until this callback has executed.</li>
</ul>
<h3 id="bind">bind<a class="anchor-link" href="#bind">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#000000">.</span><span style="color:#795E26">bind</span><span style="color:#000000">(</span><span style="color:#001080">eventName</span><span style="color:#000000">, </span><span style="color:#001080">callback</span><span style="color:#000000">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">eventName</span><span style="color:#000000"> - </span><span style="color:#001080">Which</span><span style="color:#000000"> </span><span style="color:#001080">event</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">bind</span><span style="color:#000000"> </span><span style="color:#0000FF">this</span><span style="color:#000000"> </span><span style="color:#001080">callback</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">callback</span><span style="color:#000000"> - </span><span style="color:#0070C1">A</span><span style="color:#000000"> </span><span style="color:#0000FF">function</span><span style="color:#000000"> </span><span style="color:#795E26">to</span><span style="color:#000000"> </span><span style="color:#795E26">execute</span><span style="color:#000000"> </span><span style="color:#795E26">when</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">Player</span><span style="color:#000000"> </span><span style="color:#795E26">fires</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">event</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#795E26">Allows</span><span style="color:#000000"> </span><span style="color:#795E26">you</span><span style="color:#000000"> </span><span style="color:#795E26">to</span><span style="color:#000000"> </span><span style="color:#795E26">register</span><span style="color:#000000"> </span><span style="color:#795E26">callbacks</span><span style="color:#000000"> </span><span style="color:#795E26">for</span><span style="color:#000000"> </span><span style="color:#795E26">events</span><span style="color:#000000"> </span><span style="color:#795E26">from</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">Player</span><span style="color:#000000">. </span><span style="color:#795E26">Call</span><span style="color:#000000"> </span><span style="color:#795E26">bind</span><span style="color:#000000"> </span><span style="color:#795E26">multiple</span><span style="color:#000000"> </span><span style="color:#795E26">times</span><span style="color:#000000"> </span><span style="color:#795E26">to</span><span style="color:#000000"> </span><span style="color:#795E26">register</span><span style="color:#000000"> </span><span style="color:#795E26">multiple</span><span style="color:#000000"> </span><span style="color:#795E26">callbacks</span><span style="color:#000000"> </span><span style="color:#795E26">for</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">same</span><span style="color:#000000"> </span><span style="color:#795E26">event</span><span style="color:#000000">.</span></span></code></pre>
<p>The available events are:</p>
<ul>
<li><code>play</code> - Fired when the presentation starts or playback is resumed.</li>
<li><code>pause</code> - Fired when the presentation ends or playback is paused.</li>
<li><code>timeupdate</code> - Fired when the playback position is updated. The callback parameter is the currentTime in milliseconds.</li>
<li><code>volumechange</code> - Fired when the volume of the player changes. The callback parameter is the current volume (0 to 100).</li>
<li><code>ended</code> - Fired when the presentation ends.</li>
<li><code>liveState</code> - Fired when the state of a live event is updated. The callback parameter is the new state.</li>
</ul>
<h3 id="get">get<a class="anchor-link" href="#get">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#001080">get</span></span>
<span class="line"><span style="color:#000000">.</span><span style="color:#795E26">get</span><span style="color:#000000">(</span><span style="color:#001080">propertyName</span><span style="color:#000000">, </span><span style="color:#001080">callback</span><span style="color:#000000">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">propertyName</span><span style="color:#000000"> - </span><span style="color:#001080">Which</span><span style="color:#000000"> </span><span style="color:#001080">property</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">get</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">callback</span><span style="color:#000000"> - </span><span style="color:#0070C1">A</span><span style="color:#000000"> </span><span style="color:#0000FF">function</span><span style="color:#000000"> </span><span style="color:#795E26">to</span><span style="color:#000000"> </span><span style="color:#795E26">execute</span><span style="color:#000000"> </span><span style="color:#795E26">with</span><span style="color:#000000"> </span><span style="color:#795E26">the</span><span style="color:#000000"> </span><span style="color:#795E26">property</span><span style="color:#000000"> </span><span style="color:#795E26">value</span><span style="color:#000000">.</span></span></code></pre>
<p>Allows you to get property values from the player. A callback is used instead of a return value as we are communicating across iframes.
The available properties to get are:</p>
<ul>
<li><code>currentTime</code> - The current time of the play head in milliseconds</li>
<li><code>volume</code> - The current volume (0 to 100).</li>
<li><code>paused</code> - Returns true if the player is not currently playing.</li>
<li><code>duration</code> - Returns the duration of the presentation in milliseconds.</li>
<li><code>liveState</code> - Returns the current live state.</li>
<li><code>liveEndTime</code> - Returns the time when the live event ended</li>
<li><code>liveStartTime</code> - Returns the time when the live event started</li>
</ul>
<h3 id="set">set<a class="anchor-link" href="#set">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#000000">.</span><span style="color:#795E26">set</span><span style="color:#000000">(</span><span style="color:#001080">propertyName</span><span style="color:#000000">, </span><span style="color:#001080">value</span><span style="color:#000000">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">propertyName</span><span style="color:#000000"> - </span><span style="color:#001080">Which</span><span style="color:#000000"> </span><span style="color:#001080">property</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">set</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">value</span><span style="color:#000000"> - </span><span style="color:#001080">The</span><span style="color:#000000"> </span><span style="color:#001080">value</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">set</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">property</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">Allows</span><span style="color:#000000"> </span><span style="color:#001080">you</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">set</span><span style="color:#000000"> </span><span style="color:#001080">property</span><span style="color:#000000"> </span><span style="color:#001080">values</span><span style="color:#000000"> </span><span style="color:#001080">on</span><span style="color:#000000"> </span><span style="color:#001080">the</span><span style="color:#000000"> </span><span style="color:#001080">player</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">The</span><span style="color:#000000"> </span><span style="color:#001080">available</span><span style="color:#000000"> </span><span style="color:#001080">properties</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">get</span><span style="color:#000000"> are:</span></span></code></pre>
<ul>
<li><code>currentTime</code> - Set the current time of the play head in milliseconds</li>
<li><code>volume</code> - Set the volume (0 to 100).</li>
</ul>
<h3 id="unbind">unbind<a class="anchor-link" href="#unbind">#</a></h3>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#000000">.</span><span style="color:#795E26">unbind</span><span style="color:#000000">(</span><span style="color:#001080">eventName</span><span style="color:#000000">, [</span><span style="color:#001080">callback</span><span style="color:#000000">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#001080">eventName</span><span style="color:#000000"> - </span><span style="color:#001080">Which</span><span style="color:#000000"> </span><span style="color:#001080">event</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">unbind</span><span style="color:#000000"> </span><span style="color:#001080">from</span><span style="color:#000000">.</span></span>
<span class="line"><span style="color:#001080">callback</span><span style="color:#000000"> - </span><span style="color:#001080">The</span><span style="color:#000000"> </span><span style="color:#001080">callback</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#001080">unbind</span><span style="color:#000000">. </span><span style="color:#001080">Optional</span><span style="color:#000000">. </span><span style="color:#001080">If</span><span style="color:#000000"> </span><span style="color:#001080">not</span><span style="color:#000000"> </span><span style="color:#001080">given</span><span style="color:#000000"> </span><span style="color:#001080">all</span><span style="color:#000000"> </span><span style="color:#001080">callbacks</span><span style="color:#000000"> </span><span style="color:#001080">bound</span><span style="color:#000000"> </span><span style="color:#001080">to</span><span style="color:#000000"> </span><span style="color:#0000FF">this</span><span style="color:#000000"> </span><span style="color:#001080">event</span><span style="color:#000000"> </span><span style="color:#001080">will</span><span style="color:#000000"> </span><span style="color:#001080">be</span><span style="color:#000000"> </span><span style="color:#001080">unbound</span><span style="color:#000000">.</span></span>
<span class="line"></span></code></pre>
<p>Allows you to remove a specific callback bound to an event, or if no callback is given to remove all callbacks for an event.</p>
        </section>
      </main>
    </div>
  </body></html>