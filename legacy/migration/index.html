<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migration</title>
  <link rel="stylesheet" href="/player-sdk/_astro/_...slug_.f0c41d6c.css" /><script type="module">
</script></head>
  <body>
    <header>
  <nav class="qi-navbar qi-navbar--collapse@md">
    <div class="qi-navbar__header">
      <a href="/player-sdk/" class="qi-navbar__brand" aria-label="Go to the homepage">
        <svg height="30" width="150" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 180 48"><path d="M108.603 29.83c0 3.987-2.156 5.679-5.038 5.679-2.658 0-4.536-1.599-4.536-4.722v-13.33h-5.912v14.064c0 6.098 3.802 9.481 8.654 9.481 3.077 0 5.456-1.143 6.832-3.207v2.566h5.912V17.458h-5.912v12.371zm35.508-13.014a7.859 7.859 0 00-6.786 3.3 6.86 6.86 0 00-6.227-3.3 7.217 7.217 0 00-6.368 3.068v-2.427h-5.995v22.904h5.912V27.496c0-3.439 1.784-5.177 4.303-5.177s3.849 1.645 3.849 4.35v13.692h5.911V27.496c0-3.439 1.655-5.177 4.258-5.177 2.602 0 3.848 1.645 3.848 4.35v13.692h5.912V26.25c.037-5.726-3.393-9.435-8.617-9.435zm27.672.642v12.371c0 3.988-2.157 5.68-5.038 5.68-2.659 0-4.536-1.599-4.536-4.722v-13.33h-5.912v14.064c0 6.098 3.802 9.481 8.663 9.481 3.067 0 5.447-1.143 6.823-3.207v2.566h5.911V17.458h-5.911zm-81.863 7.37c0-8.811-7.148-15.96-15.96-15.96-8.812 0-15.96 7.149-15.96 15.96 0 8.812 7.148 15.96 15.96 15.96 3.012 0 5.967-.855 8.524-2.463l4.015 4.016 4.192-4.192-3.867-3.877a15.828 15.828 0 003.096-9.443zm-7.39 5.215l-5.977-5.977-4.192 4.118 5.745 5.745c-1.311.604-2.742.92-4.183.93-5.53-.029-10.002-4.528-9.974-10.068.028-5.53 4.527-10.001 10.067-9.973 5.53.027 10.001 4.526 9.973 10.066a9.992 9.992 0 01-1.459 5.16z" fill="#4B5369"></path><path d="M39.443 37.454C46.883 27.85 45.116 14.039 35.5 6.6 25.885-.838 12.055.934 4.607 10.537-2.842 20.14-1.067 33.952 8.549 41.39a22.024 22.024 0 009.93 4.312c1.178.196 2.373.298 3.567.298H48l-8.557-8.546zm-6.067-13.335l-16.551 9.552a.262.262 0 01-.35-.103.235.235 0 01-.026-.11V14.363c0-.145.12-.256.264-.247.043 0 .077.008.111.025l16.552 9.543a.26.26 0 01.086.35.27.27 0 01-.086.085z" fill="#66C8C7"></path></svg>
      </a>
    </div>
  </nav>
</header>
    <div class="app-container">
      <aside>
        <nav>
  <section class="qi-mb--5">
        <h5 class="qi-h5 qi--display">General</h5>
        <ul class="qi-list--unstyled qi-mb--0">
          <li>
                <a href="/player-sdk/installation" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Installation
                </a>
              </li><li>
                <a href="/player-sdk/usage" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Usage
                </a>
              </li>
        </ul>
      </section><section class="qi-mb--5">
        <h5 class="qi-h5 qi--display">Demos</h5>
        <ul class="qi-list--unstyled qi-mb--0">
          <li>
                <a href="/player-sdk/demos/playback" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Playback
                </a>
              </li><li>
                <a href="/player-sdk/demos/captions" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Captions
                </a>
              </li><li>
                <a href="/player-sdk/demos/chapters" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Chapters
                </a>
              </li><li>
                <a href="/player-sdk/demos/layout" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Layout
                </a>
              </li><li>
                <a href="/player-sdk/demos/live" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Live states
                </a>
              </li><li>
                <a href="/player-sdk/demos/playback-rates" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Playback Rates
                </a>
              </li><li>
                <a href="/player-sdk/demos/volume" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Volume
                </a>
              </li>
        </ul>
      </section><section class="qi-mb--5">
        <h5 class="qi-h5 qi--display">v2.0 (Legacy)</h5>
        <ul class="qi-list--unstyled qi-mb--0">
          <li>
                <a href="/player-sdk/legacy/usage" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--secondary">
                  Usage
                </a>
              </li><li>
                <a href="/player-sdk/legacy/migration" class="qi-btn qi-btn--transparent qi-btn--block qi-text--left qi-btn--primary active" aria-current="page">
                  Migration guide
                </a>
              </li>
        </ul>
      </section>
</nav>
      </aside>
      <main>
        <section>
          <h1>Migration</h1><h2 id="migration-from-v20-to-v30">Migration from v2.0 to v3.0<a class="anchor-link" href="#migration-from-v20-to-v30">#</a></h2>
<h3 id="load-the-new-sdk">Load the new SDK<a class="anchor-link" href="#load-the-new-sdk">#</a></h3>
<p>Please follow <a href="/player-sdk/installation">the installation page</a>
to load the new SDK</p>
<h3 id="init-is-removed"><code>.init()</code> is removed<a class="anchor-link" href="#init-is-removed">#</a></h3>
<p>The new SDK has an improved handshake mechanism and the <code>.init()</code> function is not necessary anymore.</p>
<h3 id="changes-to-bind-and-unbind">Changes to <code>.bind()</code> and <code>.unbind()</code><a class="anchor-link" href="#changes-to-bind-and-unbind">#</a></h3>
<p>In order to offer an API closer to the JavaScript standards, we rename the following methods:</p>
<ul>
<li><code>.bind()</code> is now <code>.addEventListener()</code></li>
<li><code>.unbind()</code> is now <code>.removeEventListener()</code></li>
</ul>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#008000">// BEFORE</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">bind</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;timeupdate&#39;</span><span style="color:#000000">, </span><span style="color:#0000FF">function</span><span style="color:#000000"> (</span><span style="color:#001080">newTime</span><span style="color:#000000">) {</span></span>
<span class="line"><span style="color:#000000">  </span><span style="color:#001080">console</span><span style="color:#000000">.</span><span style="color:#795E26">log</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;new time&#39;</span><span style="color:#000000">, </span><span style="color:#001080">newTime</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#000000">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000">//AFTER</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">addEventListener</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;timeupdate&#39;</span><span style="color:#000000">, (</span><span style="color:#001080">newTime</span><span style="color:#000000">) </span><span style="color:#0000FF">=&gt;</span><span style="color:#000000"> {</span></span>
<span class="line"><span style="color:#000000">  </span><span style="color:#001080">console</span><span style="color:#000000">.</span><span style="color:#795E26">log</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;new time&#39;</span><span style="color:#000000">, </span><span style="color:#001080">newTime</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#000000">});</span></span></code></pre>
<h3 id="changes-to-command">Changes to <code>.command()</code><a class="anchor-link" href="#changes-to-command">#</a></h3>
<p>In order to offer a better API, we replaced the <code>.command()</code> function with the following:</p>
<ul>
<li><code>.command(&#39;play&#39;)</code> is now <code>.play()</code></li>
<li><code>.command(&#39;pause&#39;)</code> is now <code>.pause()</code></li>
<li><code>.command(&#39;destroy&#39;)</code> is now <code>.destroy()</code></li>
</ul>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#008000">// BEFORE</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">command</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;play&#39;</span><span style="color:#000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000">//AFTER</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">play</span><span style="color:#000000">();</span></span></code></pre>
<h3 id="changes-to-get">Changes to <code>.get()</code><a class="anchor-link" href="#changes-to-get">#</a></h3>
<p>In order to offer a better API, we replaced the <code>.get()</code> function with the following:</p>
<ul>
<li><code>.get(&#39;currentTime&#39;)</code> is now <code>.getCurrentTime()</code></li>
<li><code>.get(&#39;volume&#39;)</code> is now <code>.getVolume()</code></li>
<li><code>.get(&#39;paused&#39;)</code> is now <code>.isPaused()</code></li>
<li><code>.get(&#39;duration&#39;)</code> is now <code>.getDuration()</code></li>
<li><code>.get(&#39;liveState&#39;)</code> is now <code>.getLiveState()</code></li>
<li><code>.get(&#39;liveEndTime&#39;)</code> is now <code>.getLiveEndTime()</code></li>
<li><code>.get(&#39;liveStartTime&#39;)</code> is now <code>.getLiveStartTime()</code></li>
</ul>
<p>Those new methods return a promise instead of requiring a callback.</p>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#008000">// BEFORE</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">get</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;volume&#39;</span><span style="color:#000000">, </span><span style="color:#0000FF">function</span><span style="color:#000000"> (</span><span style="color:#001080">newVolume</span><span style="color:#000000">) {</span></span>
<span class="line"><span style="color:#000000">  </span><span style="color:#001080">console</span><span style="color:#000000">.</span><span style="color:#795E26">log</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;new volume&#39;</span><span style="color:#000000">, </span><span style="color:#001080">newVolume</span><span style="color:#000000">);</span></span>
<span class="line"><span style="color:#000000">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000">//AFTER</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">getVolume</span><span style="color:#000000">().</span><span style="color:#795E26">then</span><span style="color:#000000">((</span><span style="color:#001080">newVolume</span><span style="color:#000000">) </span><span style="color:#0000FF">=&gt;</span><span style="color:#000000"> </span><span style="color:#001080">console</span><span style="color:#000000">.</span><span style="color:#795E26">log</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;new volume&#39;</span><span style="color:#000000">, </span><span style="color:#001080">newVolume</span><span style="color:#000000">));</span></span></code></pre>
<h3 id="changes-to-set">Changes to <code>.set()</code><a class="anchor-link" href="#changes-to-set">#</a></h3>
<p>In order to offer a better API, we replaced the <code>.get()</code> function with the following:</p>
<ul>
<li><code>.set(&#39;currentTime&#39;, value)</code> is now <code>.setCurrentTime(value)</code></li>
<li><code>.set(&#39;volume&#39;, value)</code> is now <code>.setVolume(value)</code></li>
</ul>
<pre class="astro-code" style="background-color:#FFFFFF;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#008000">// BEFORE</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">set</span><span style="color:#000000">(</span><span style="color:#A31515">&#39;volume&#39;</span><span style="color:#000000">, </span><span style="color:#098658">0.5</span><span style="color:#000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000">//AFTER</span></span>
<span class="line"><span style="color:#001080">sdk</span><span style="color:#000000">.</span><span style="color:#795E26">setVolume</span><span style="color:#000000">(</span><span style="color:#098658">0.5</span><span style="color:#000000">);</span></span></code></pre>
        </section>
      </main>
    </div>
  </body></html>